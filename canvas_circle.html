<!DOCTYPE html>
<!----------------------------------------------

html5_canvas_pattern_animation.html

Animates a pattern drawing using html5 canvas.
This snippet could be used as an example for creating
the classic snake game.
 
Author:
Ramin Rakhamimov
ramin32 at gmail dot com
http://raminrakhamimov.com

--------------------------------------------- -->

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <title>Circle Canvas</title>

        <style type="text/css">
            canvas { border: 2px solid #ddedcc; }
        </style>

        <script type="application/javascript">

            function computeX(theta, r, j, k){ return r * Math.cos(theta) + j; }
            function computeY(theta, r, j, k){ return r * Math.sin(theta) + k; }

            function drawCirclePoint(context, theta, r, j, k)
            {
                var x = computeX(theta, r, j, k);
                var y = computeY(theta, -r, j, k);

                context.lineTo(x, y);
                context.stroke();
            }

            window.onload = function() 
            {
                var canvas = document.getElementById('circle-canvas');

                if (canvas && canvas.getContext) {
                    var context = canvas.getContext('2d');
                    if (context) {
                        context.lineWidth = 1;


                        var centerX = canvas.width / 2;
                        var centerY = 0;
                        var r = canvas.width / 3;


                        var theta = Math.PI;
                        var increment = .01;
                        intervalHandle = setInterval(function() {
                            if (theta >= 2 * Math.PI)
                            {
                                increment *= -1;
                                context.closePath();
                                context.beginPath();
                            }
                            if (theta < Math.PI)
                            {
                                increment *= -1;
                                context.closePath();
                                context.beginPath();
                            }


                            context.beginPath();
                            context.strokeStyle = "#fff";
                            context.moveTo(centerX, centerY); 
                            drawCirclePoint(context, theta, r-increment , centerX, centerY);
                            context.closePath();

                            context.beginPath();
                            context.strokeStyle = "#369";
                            context.moveTo(centerX, centerY); 
                            drawCirclePoint(context, theta, r , centerX, centerY);
                            context.closePath();

                            theta += increment;
                        }, 10);
                    }
                }
            }
        </script>
    </head>
    <body>
        <canvas id="circle-canvas" height="500px" width="500px"></canvas>  
    </body>
</html>
